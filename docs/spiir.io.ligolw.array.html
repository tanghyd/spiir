<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>&lt;no title&gt; &mdash; SPIIR 0.0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script src="_static/toggleprompt.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="&lt;no title&gt;" href="spiir.io.ligolw.ligolw.html" />
    <link rel="prev" title="spiir.io.ligolw package" href="spiir.io.ligolw.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> SPIIR
          </a>
              <div class="version">
                0.0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulation.html">Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ligolw.html">LIGO Light Weight</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">spiir</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SPIIR</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">spiir</a> &raquo;</li>
          <li><a href="spiir.html">spiir package</a> &raquo;</li>
          <li><a href="spiir.io.html">spiir.io package</a> &raquo;</li>
          <li><a href="spiir.io.ligolw.html">spiir.io.ligolw package</a> &raquo;</li>
      <li>&lt;no title&gt;</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/spiir.io.ligolw.array.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <span class="target" id="module-spiir.io.ligolw.array"></span><dl class="py function">
<dt class="sig sig-object py" id="spiir.io.ligolw.array.get_all_ligolw_frequency_arrays_from_xmldoc">
<span class="sig-prename descclassname"><span class="pre">spiir.io.ligolw.array.</span></span><span class="sig-name descname"><span class="pre">get_all_ligolw_frequency_arrays_from_xmldoc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xmldoc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Element</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Series</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#spiir.io.ligolw.array.get_all_ligolw_frequency_arrays_from_xmldoc" title="Permalink to this definition"></a></dt>
<dd><p>Reads a valid LIGO_LW XML Document from memory and returns a dictionary of
pd.Series containing a REAL8FrequencySeries array for each frequency series present.</p>
<p>The LIGO_LW Document should contain exactly one LIGO_LW REAL8FrequencySeries
element per interferometer each as an Array element. Each REAL8FrequencySeries is
paired with an instrument string corresponding to the interferometer name.</p>
<p>The returned dictionary has keys describing each interferometer name, with each
value being a frequency array with an index specifying its frequency bins. Each
array is indexed separately to handle the case where each frequency array
may not have matching resolutions (i.e. PSDs may not have matching frequency
components recorded), but if they are the same they can simply be concatenated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>xmldoc</strong> (<em>ligo.lw.ligolw.Element</em>) – A LIGO_LW XML Document, or Element, containing the necessary LIGO_LW elements.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of pd.Series where the key refers to the interferometer name,
and the values contain the respective real-valued frequency array.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict[int, pd.Series]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spiir.io.ligolw.array.get_all_ligolw_snr_arrays_from_xmldoc">
<span class="sig-prename descclassname"><span class="pre">spiir.io.ligolw.array.</span></span><span class="sig-name descname"><span class="pre">get_all_ligolw_snr_arrays_from_xmldoc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xmldoc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Element</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_epoch_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Series</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#spiir.io.ligolw.array.get_all_ligolw_snr_arrays_from_xmldoc" title="Permalink to this definition"></a></dt>
<dd><p>Reads a valid LIGO_LW XML Document from a ligo.lw.ligolw.Document object and
returns a dictionary containing the complex SNR timeseries arrays associated with
each interferometer (‘ifo’).</p>
<p>The LIGO_LW Document must contain exactly one ligo.lw.lsctables.SnglInspiralTable
and at least one LIGO_LW COMPLEX8TimeSeries element containing the timeseries as an
Array named snr:array. Each row in the SnglInspiralTable should be matched to a
corresponding COMPLEX8TimeSeries by an event_id:param.</p>
<p>The returned DataFrame has columns describing each interferometer name, an
index specifying the timestamp, and values that define the complex SNR time series.</p>
<p>Note: The true starting epoch GPS time is added to the index values of each
pd.Series as each SNR timeseries array may not perfectly align with another.
To undo this addition and reset all arrays to index starting from 0, simply
subtract the first element of the pd.Series index from every element for each
SNR series respectively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xmldoc</strong> (<em>ligo.lw.ligolw.Element</em>) – A LIGO_LW XML Document, or Element, containing the necessary LIGO_LW elements.</p></li>
<li><p><strong>add_epoch_time</strong> (<em>bool</em>) – Whether to add the epoch time to each SNR series array for correct timestamps.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of pd.Series where the key refers to the sngl_inspiral event_id,
and the values contain the respective SNR timeseries array
(each with their own timestamped indices).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict[int, pd.Series]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spiir.io.ligolw.array.load_all_ligolw_frequency_arrays">
<span class="sig-prename descclassname"><span class="pre">spiir.io.ligolw.array.</span></span><span class="sig-name descname"><span class="pre">load_all_ligolw_frequency_arrays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ilwdchar_compat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#spiir.io.ligolw.array.load_all_ligolw_frequency_arrays" title="Permalink to this definition"></a></dt>
<dd><p>Reads a valid LIGO_LW XML Document from a file path and returns a dictionary of
pd.Series containing a REAL8FrequencySeries array for each frequency series present.</p>
<p>The LIGO_LW Document should contain exactly one LIGO_LW REAL8FrequencySeries
element per interferometer each as an Array element. Each REAL8FrequencySeries is
paired with an instrument string corresponding to the interferometer name.</p>
<p>The returned dictionary has keys describing each interferometer name, with each
value being a frequency array with an index specifying its frequency bins. Each
array is indexed separately to handle the case where each frequency array
may not have matching resolutions (i.e. PSDs may not have matching frequency
components recorded), but if they are the same they can simply be concatenated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em><em> | </em><em>bytes</em><em> | </em><em>PathLike</em>) – A path-like to a file containing a valid LIGO_LW XML Document.</p></li>
<li><p><strong>ilwdchar_compat</strong> (<em>bool</em>) – Whether to add ilwdchar conversion compatibility.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – Whether to enable verbose output for ligo.lw.utils.load_filename.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pd.Series array containing the value and index of each frequency component.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">psds</span> <span class="o">=</span> <span class="n">load_all_ligolw_frequency_arrays</span><span class="p">(</span><span class="s2">&quot;coinc.xml&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="spiir.io.ligolw.array.load_all_ligolw_snr_arrays">
<span class="sig-prename descclassname"><span class="pre">spiir.io.ligolw.array.</span></span><span class="sig-name descname"><span class="pre">load_all_ligolw_snr_arrays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_epoch_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ilwdchar_compat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Series</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#spiir.io.ligolw.array.load_all_ligolw_snr_arrays" title="Permalink to this definition"></a></dt>
<dd><p>Reads a valid LIGO_LW XML Document from a file path and returns a dictionary
containing the complex SNR timeseries arrays associated with each interferometer.</p>
<p>The LIGO_LW Document must contain exactly one ligo.lw.lsctables.SnglInspiralTable
and at least one LIGO_LW COMPLEX8TimeSeries element containing the timeseries as an
Array named snr:array. Each row in the SnglInspiralTable should be matched to a
corresponding COMPLEX8TimeSeries by an event_id:param.</p>
<p>The returned DataFrame has columns describing each interferometer name, an index
specifying the timestamp, and values that define the complex SNR time series array.</p>
<p>Note: The true starting epoch GPS time is added to the index values of each
pd.Series as each SNR timeseries array may not perfectly align with another.
To undo this addition and reset all arrays to index starting from 0, simply
subtract the first element of the pd.Series index from every element for each
SNR series respectively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em><em> | </em><em>bytes</em><em> | </em><em>PathLike</em>) – A path-like to a file containing a valid LIGO_LW XML Document.</p></li>
<li><p><strong>add_epoch_time</strong> (<em>bool</em>) – Whether to add the epoch time to each SNR series array for correct timestamps.</p></li>
<li><p><strong>ilwdchar_compat</strong> (<em>bool</em>) – Whether to add ilwdchar conversion compatibility.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – Whether to enable verbose output for ligo.lw.utils.load_filename.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of pd.Series where the key refers to the sngl_inspiral event_id,
and the values contain the respective SNR timeseries array
(each with their own timestamped indices).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict[int, pd.Series]</p>
</dd>
</dl>
</dd></dl>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="spiir.io.ligolw.html" class="btn btn-neutral float-left" title="spiir.io.ligolw package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="spiir.io.ligolw.ligolw.html" class="btn btn-neutral float-right" title="&lt;no title&gt;" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Daniel Tang.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>